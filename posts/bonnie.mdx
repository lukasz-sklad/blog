---
title: Test wydajnoci Bonnie++
description: 'dysku, partycji, systemu plik贸w'
date: Pa藕dziernik October 19 2023
---

# Test wydajnoci dysku, partycji, systemu plik贸w Bonnie++

Gdzie znajdziemy bonnie++ (2) w dystrybucji SystemRescueCD (1)

## Mo偶na program odpali w terminalu, wpisujc polecenie:

```shell
bonnie++
```

**bonnie++ Writing a byte at a time...done Writing intelligently...Can't write block.: No space left on device Can't write block 3240825.**

Taki komunikat oznacza brak miejsca na dysku a potrzeba go dosy du偶o.

Test przeprowadzimy na macos i nietypowo bo na partycji ntfs.

Jak ju偶 zauwa偶ylimy w wpisie brakuje miejsca wic test przeprowadzimy na jednej partycji kt贸ra ostatnio szwankowaa i nie wiedziaem co z tym fantem zrobi mo偶e teraz sprawa si wyjani.

Wyedytujmy sobie partycje:

```shell
df -h 
```

to jest mac wic przeczniki -t -T nie dziaaj.

```shell
/dev/disk3s1   932Gi  121Gi  811Gi  13%  239k 850M  0%  /Users/X/.mounty/NTFS
```

i polecenie te偶 nie zadziaa:

```shell
bonnie++ -d /Volumes/disk3s1
```

ale mo偶emy stworzy w odpowiednim miejscu folder i na nim przeprowadzi test

```shell
mkdir /Users/X/.mounty/NTFS/test_directory
```

i teraz wykonamy polecenie kt贸re nas najbardziej interesuje:

```shell
bonnie++ -d /Users/X/.mounty/NTFS/test_directory
```

Czekamy.....po 2 h

```shell
/dev/disk3s1   932Gi  196Gi  736Gi  21%  239k 772M  0%  /Users/X/.mounty/NTFS
```

Writing a byte at a time...done

Writing intelligently...

Czekamy....

```shell
/dev/disk3s1   932Gi  227Gi  705Gi  25%  239k 739M  0%  /Users/X/.mounty/NTFS
```

>  Dla przypomnienia:

**Upewnij si, 偶e masz wystarczajco du偶o miejsca na dysku** `/dev/disk3s1`**, aby przeprowadzi test, poniewa偶 testy wydajnoci mog generowa du偶e iloci danych.**
>

## Wynik:

To jest dugi test  \~20 h  

```shell
Writing a byte at a time...done

Writing intelligently...done

Rewriting...done

Reading a byte at a time...done

Reading intelligently...done

start 'em...done...done...done...done...done...

Create files in sequential order...done.

Stat files in sequential order...done.

Delete files in sequential order...done.

Create files in random order...done.

Stat files in random order...done.

Delete files in random order...done.

Version 2.00    ------Sequential Output------ --Sequential Input- --Random-

          -Per Chr- --Block-- -Rewrite- -Per Chr- --Block-- --Seeks--

Name:Size etc    /sec %CP /sec %CP /sec %CP /sec %CP /sec %CP /sec %CP

5K.local    144G  3k  8 5500k  2 7340k  3 1148k 87 14.7m  1 76.8 10

Latency       2504ms   125ms   403ms   185ms   357ms   261ms

Version 2.00    ------Sequential Create------ --------Random Create--------

5K.local      -Create-- --Read--- -Delete-- -Create-- --Read--- -Delete--

       files /sec %CP /sec %CP /sec %CP /sec %CP /sec %CP /sec %CP

        16 16384  5 16384 32 16384 13 16384  5 16384 32 16384  3

Latency        117ms   160us  58150us  81791us   268us   111ms

1.98,2.00,5K.local,1,1697605760,144G,,8192,5,3,8,5500,2,7340,3,1148,87,15059,1,76.8,10,16,,,,,446,5,26379,32,1588,13,471,5,23950,32,315,3,2504ms,125ms,403ms,185ms,357ms,261ms,117ms,160us,58150us,81791us,268us,111ms
```

*Oto, jak zrozumie wyniki:*

- **Sequential Output: Odczyt sekwencyjny (zapis) danych z dysku.**
- **Sequential Input: Odczyt sekwencyjny danych na dysk.**
- **Sequential Rewrite: Ponowne zapisywanie danych na dysk w trybie sekwencyjnym.**
- **Sequential Create: Tworzenie plik贸w sekwencyjnie.**
- **Random Create: Tworzenie plik贸w w losowej kolejnoci.**

*Wyniki s przedstawione w kilku kategoriach, w kt贸rych mierzone s r贸偶ne operacje dyskowe (zapisy, odczyty, tworzenie plik贸w) w r贸偶nych trybach (sekwencyjnym i losowym). Oto, co oznaczaj niekt贸re z tych wartoci:*

- `/sec`**: Ilo operacji na sekund (np. odczyty lub zapisy na sekund).**
- `%CP`**: Procent obci偶enia procesora podczas operacji (im ni偶sza warto, tym lepiej).**
- `Block`**: Wydajno zapisu w blokach danych na sekund.**
- `Latency`**: redni czas oczekiwania w milisekundach podczas operacji.**

## Wnioski:

**Przykadowo, w pierwszym wierszu wynik贸w dla "Sequential Output," mo偶emy zauwa偶y, 偶e wydajno zapisu wynosi okoo 3 kilobajty na sekund, a procesor jest wykorzystywany w 8% podczas tych operacji.**

**Wartoci te s istotne, gdy chcesz oceni wydajno dysku i mog pom贸c zidentyfikowa, czy dysk dziaa w optymalny spos贸b. Im wy偶sza wydajno i im ni偶sza latencja, tym lepiej. Jednak wartoci te mog by r贸偶ne w zale偶noci od rodzaju dysku i sprztu, na kt贸rym jest wykonywany test.**

### Przypisy:

(1) <https://www.system-rescue-cd.org/Download>

(2) <https://www.coker.com.au/bonnie++/>