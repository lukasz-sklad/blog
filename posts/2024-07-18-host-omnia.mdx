---
title: Blokowanie reklam na routerze Omnia Wi-Fi 6 przez modyfikacj pliku hosts
description: 'omnia, hosts'
summary: 'omnia, hosts'
date: Lipiec July 18 2024
slug: omnia, turris, hosts
---

# Blokowanie reklam na routerze Omnia Wi-Fi 6 przez modyfikacj pliku hosts

## Wprowadzenie

Blokowanie reklam na poziomie routera mo偶e znaczco poprawi szybko i bezpieczestwo przegldania w caej sieci domowej. Router Omnia Wi-Fi 6 z systemem Turris OS umo偶liwia zaawansowan konfiguracj, w tym edycj pliku ```hosts``, co jest jednym z najprostszych sposob贸w na eliminacj niechcianych reklam. W tej procedurze wykorzystamy plik hosts pobrany ze  strony <https://winhelp2002.mvps.org>, kt贸ry jest regularnie aktualizowany i zawiera list domen generujcych reklamy.


## Dlaczego warto modyfikowa plik hosts na routerze?

Modyfikacja pliku `hosts` na routerze Omnia Wi-Fi 6 pozwala na centralne blokowanie dostpu do serwer贸w reklamowych dla wszystkich urzdze podczonych do sieci. Oznacza to, 偶e reklamy bd blokowane nie tylko w przegldarkach, ale r贸wnie偶 w aplikacjach.

## Procedura blokowania reklam przy u偶yciu pliku hosts na routerze Omnia Wi-Fi 6

### Krok 1: Przygotowanie rodowiska

Zaloguj si do routera przez SSH. Upewnij si, 偶e masz uprawnienia administratora.

### Krok 2: Kopiowanie pliku hosts

Tutaj utworzymy kopi Twojego pliku /etc/hosts i zapiszemy go w Twoim katalogu domowym w ukrytym pliku o nazwie .hosts.base, ale mo偶esz go zapisa w dowolnym miejscu. Pamitaj tylko o zmianie skryptu, aby okreli lokalizacj pliku.

```shell
cp /etc/hosts ~/.hosts.base
```

### Krok 3: Tworzenie skryptu aktualizujcego plik hosts

Utw贸rz skrypt o nazwie update_hosts.sh u偶ywajc edytora tekstowego, np. vi:

```shell
vi /root/scripts/update_hosts.sh
```
Literk ```a``` wciskamy i wklejamy poni偶szy skrypt:

```shell
#!/bin/bash
cd /tmp
wget -O hosts.txt http://winhelp2002.mvps.org/hosts.txt
cat /root/.hosts.base > /etc/hosts
cat hosts.txt >> /etc/hosts
```

```ESC``` wciskamy, ```:wq``` - zapisz, wyjd藕.

```:q!``` - wyj bez zapisywania pliku.

Szybko tworzymy folder ```mkdir scripts```, plik ```touch update_hosts.sh```

Sprawdzamy uprawnienia:

```shell
-rw-r--r-- 1 root  root  0 Jul 18 18:21 update_hosts.sh
```
s uprawnienia do zapisu.

Wklejamy nasz skrypt.

Porawiamy nasz skrypt i dodajemy jeszcze jedn linijk (20.07.2024)

```shell
#!/bin/bash
cd /tmp
wget -O hosts.txt http://winhelp2002.mvps.org/hosts.txt
cat /root/.hosts.base > /etc/hosts
cat hosts.txt >> /etc/hosts
sed -i 's/\r$//' /etc/hosts
```

wyjanienie plik hosts.txt jest stworzony w windows, reszta wyjanienia na zdjciu wida konwersacj z ai zainstalowanym na dysku twardym. Rozmowa w terminalu z llama3:70b

![ollama run llama3:70b](https://filedn.eu/lPq6O1K7j8DR1n7JwTuYjYz/img/blog/sed-hosts.jpg)
*Widok llama3:70b w terminalu*


#### Nadaj skryptowi prawa do wykonania:

```shell
chmod +x /root/scripts/update_hosts.sh
```

```shell
-rwxr-xr-x    1 root  root   139 Jul 18 18:26 update_hosts.sh
```

### Krok 4: Automatyzacja procesu aktualizacji

Dodaj zadanie cron, aby automatycznie aktualizowa plik hosts w regularnych odstpach czasu. Edytuj crontab:

```shell
crontab -e
```

Dodaj linijk:

```shell
0 4 * * * /root/scripts/update_hosts.sh
```
Sprawd藕my:

```shell
crontab -l
```

je偶eli widzimy nasz wpis to jest ok.


To zadanie cron bdzie uruchamia skrypt codziennie o 4:00 rano.



![Widok z WebGui LuCI](https://filedn.eu/lPq6O1K7j8DR1n7JwTuYjYz/img/blog/turris.png)
*Widok z WebGui LuCI*


### Krok 5: Weryfikacja i monitorowanie

Po pierwszej aktualizacji pliku `hosts`, sprawd藕, czy reklamy s blokowane na urzdzeniach w Twojej sieci. Mo偶esz to zrobi, odwiedzajc strony, kt贸re wczeniej zawieray reklamy.

## Podsumowanie

Zastosowanie zmodyfikowanego pliku `hosts` na routerze Omnia Wi-Fi 6 to skuteczny spos贸b na blokowanie niechcianych reklam w caej sieci domowej. Ta metoda jest prosta, efektywna i nie wymaga dodatkowego oprogramowania na urzdzeniach kocowych.

Inne propozycje
<https://github.com/StevenBlack/hosts>

<button onClick={() => alert("Dzikuj za przeczytanie artykuu o modyfikowaniu pliku `hosts` na WRT!")}>
  Mam nadziej, 偶e ten artyku rozjani wam temat blokowania przez plik hosts! Do zobaczenia w kolejnym pocie! 
</button>